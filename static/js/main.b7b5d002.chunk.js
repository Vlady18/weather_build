(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports={Layout:"Layout_Layout__3bY2W"}},144:function(e,t,n){e.exports={Input_wrap:"Input_Input_wrap__1-603"}},145:function(e,t,n){e.exports={Loader:"Loader_Loader__3dxHy","lds-ripple":"Loader_lds-ripple__3Kylk"}},147:function(e,t,n){e.exports={modalWindow:"modalWindow_modalWindow__AEF2f"}},167:function(e,t,n){e.exports=n(315)},172:function(e,t,n){},173:function(e,t,n){},199:function(e,t,n){e.exports={button_more:"NewsItem_button_more__2CxG-"}},315:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),i=(n(172),n(16)),l=n(17),s=n(19),u=n(18),p=n(20),h=(n(173),n(39)),f=n(21),m=n(93),d=n.n(m),E=d.a.create({baseURL:"https://api.openweathermap.org/"}),b=d.a.create({baseURL:"https://newsapi.org/v2/top-headlines"}),w=function(e){return E.get("data/2.5/weather?q=".concat(e,"&APPID=7bb0d4450f7d6addbe608642a58bcf7a"))},_=function(e){return E.get("data/2.5/forecast?q=".concat(e,"&APPID=7bb0d4450f7d6addbe608642a58bcf7a&cnt=5"))},g=function(e,t){return b.get("?pageSize=5&page=".concat(t,"&country=").concat(e,"&apiKey=3344e994d3f34b4887aa777a5fde3aba")).then(function(e){return e.data})},y=function(e,t){return b.get("?pageSize=5&page=".concat(t,"&country=").concat(e,"&apiKey=3344e994d3f34b4887aa777a5fde3aba")).then(function(e){return e.data})},O={weather:[],city:"",isFetch:!1,isError:!1},C=function(e){return{type:"WEATHER",data:e}},v=function(e){return{type:"TOGGLE_IS_FETCH",fetch:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER":return Object(f.a)({},e,{weather:t.data});case"TOGGLE_IS_FETCH":return Object(f.a)({},e,{isFetch:t.fetch});case"WEATHER_ERROR":return Object(f.a)({},e,{isError:!0});default:return e}},T=n(142),I=n.n(T),N=n(94),S=n.n(N),F=function(e){var t=["fa",S.a.MenuToggle];return e.menuIs?t.push("fa-times",S.a.open):t.push("fa-bars"),r.a.createElement("i",{className:t.join(" "),"aria-hidden":"true",onClick:e.changeMenuIs})},A=n(95),R=n.n(A),k=n(46),W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).renderLinks=function(e){return e.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(k.b,{to:e.to,exact:e.exact,onClick:n.props.linkDrawerHandler},e.label))})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[R.a.Drawer];this.props.menuIs||e.push(R.a.close);return r.a.createElement("nav",{className:e.join(" ")},r.a.createElement("ul",null,this.renderLinks([{label:"\u041f\u043e\u0433\u043e\u0434\u0430",to:"/weather",exact:!0},{label:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",to:"/news",exact:!0}])))}}]),t}(r.a.Component),x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={menuIs:!1},n.linkDrawerHandler=function(){n.setState({menuIs:!1})},n.changeMenuIs=function(){n.setState({menuIs:!n.state.menuIs})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:I.a.Layout},r.a.createElement(F,{menuIs:this.state.menuIs,changeMenuIs:this.changeMenuIs}),r.a.createElement(W,{menuIs:this.state.menuIs,linkDrawerHandler:this.linkDrawerHandler}),r.a.createElement("main",null,this.props.children))}}]),t}(r.a.Component),H=n(37),L=n(57),P=n.n(L),M=n(144),D=n.n(M),G=function(e){var t=e.type||"text",n="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:D.a.Input_wrap},r.a.createElement("label",{htmlFor:n},"For example: Kyiv, London, Paris"),r.a.createElement("input",{id:n,onChange:function(t){return e.setCurrentInputCity(t)}}))},z=n(145),U=n.n(z),K=function(){return r.a.createElement("div",{className:U.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null))},Y=n(146),J=n.n(Y),q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).setConfig=function(){var e=n.props.forecastInfo.list,t=B(e);return{xAxis:{gridLineWidth:1,title:{text:null},alignTicks:!1,categories:t.x,lineColor:"#fff",lineWidth:1,gridLineColor:"#fff",tickColor:"#fff",tickWidth:1},chart:{backgroundColor:"transparent",type:"line",inverted:!1},yAxis:{gridLineWidth:0,startOnTick:!0,min:0,labels:{enabled:!1},title:{text:"Degree Kelvin"}},title:{text:"Forecast"},tooltip:{enabled:!1},plotOptions:{series:{color:"#fff",dataLabels:{format:"{y} K",enabled:!0}}},legend:{enabled:!1},series:[{data:t.y}]}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(J.a,{config:this.setConfig()})}}]),t}(r.a.Component),B=function(e){var t=e.map(function(e){return Math.round(e.main.temp)});return{x:e.map(function(e){var t=new Date(1e3*e.dt),n="0".concat(t.getMinutes());return"".concat(t.getHours(),":").concat(n)}),y:t}},$=q,Q=n(147),V=n.n(Q),X=function(e){return r.a.createElement("div",{className:V.a.modalWindow},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:e.closeModalHandler}),e.children)},Z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentInputCity:"",currentDate:null},n.setCity=function(){n.props.setCityInfo(n.state.currentInputCity)},n.setCurrentInputCity=function(e){n.setState({currentInputCity:e.target.value})},n.getForecast=function(){n.props.setForecastInfo(n.state.currentInputCity)},n.imgSkyUrl=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")},n.closeModalHandler=function(){n.props.readyForecast(!1)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props.weather,t=this.props.weather.timezone/3600,n=new Date((new Date).getTime()+3600*t*1e3).toUTCString().replace(/ GMT$/,"");return r.a.createElement("section",{className:P.a.Weather},r.a.createElement("h1",null,"Check weather in your city!"),r.a.createElement("div",{className:P.a.form},r.a.createElement(G,{setCurrentInputCity:this.setCurrentInputCity}),r.a.createElement("i",{onClick:this.setCity,className:"fa fa-search","aria-hidden":"true"})),r.a.createElement("div",{className:P.a.result_weather},this.props.isFetch?r.a.createElement(K,null):0!==this.props.weather.length?r.a.createElement("ul",null,r.a.createElement("li",null,e.name),r.a.createElement("li",null,n),r.a.createElement("li",{className:P.a.curTemp},Math.round(e.main.temp-273)," \u2103 "),r.a.createElement("li",null,r.a.createElement("span",null,r.a.createElement("img",{src:"".concat(this.imgSkyUrl(e.weather[0].icon)),alt:""}),e.weather[0].description)),r.a.createElement("li",null,Math.round(e.main.temp_min-273)," \u2103 / ",Math.round(e.main.temp_max-273)," \u2103"),r.a.createElement("li",null,r.a.createElement("b",null,"Pressure: ")," ",e.main.pressure),r.a.createElement("li",null,r.a.createElement("b",null,"Humidity: "),"  ",e.main.humidity,"%"),r.a.createElement("button",{disabled:!this.state.currentInputCity&&"disabled",onClick:this.getForecast},"Get Forecast!")):this.props.isError?r.a.createElement("b",null,"Error...Enter the correct data in the field."):null,this.props.forecastInfo&&this.props.isReady?r.a.createElement(X,{closeModalHandler:this.closeModalHandler},r.a.createElement($,this.props)):this.props.forecastFetch?r.a.createElement(K,null):null))}}]),t}(r.a.Component),ee={forecast:[],isReady:!1,isFetchForecast:!1},te=function(e){return{type:"WEATHER_FORECAST_READY",ready:e}},ne=function(e){return{type:"WEATHER_FORECAST_FETCH",fetch:e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_FORECAST":return Object(f.a)({},e,{forecast:t.data});case"WEATHER_FORECAST_READY":return Object(f.a)({},e,{isReady:t.ready});case"WEATHER_FORECAST_FETCH":return Object(f.a)({},e,{isFetchForecast:t.fetch});default:return e}},re=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Z,this.props)}}]),t}(r.a.Component),ce=Object(h.b)(function(e){return{city:e.weather.city,weather:e.weather.weather,isFetch:e.weather.isFetch,isError:e.weather.isError,isReady:e.forecast.isReady,forecastInfo:e.forecast.forecast,forecastFetch:e.forecast.isFetchForecast}},{setCityInfo:function(e){return function(t){t(v(!0)),w(e).then(function(e){200===e.status&&200===e.data.cod&&(t(C(e.data)),t(v(!1)))},function(e){t({type:"WEATHER_ERROR"}),t(v(!1)),t(C([]))})}},setForecastInfo:function(e){return function(t){t(ne(!0)),_(e).then(function(e){t(function(e){return{type:"WEATHER_FORECAST",data:e}}(e.data)),t(ne(!1)),t(te(!0))})}},readyForecast:te,weatherAC:C})(re),oe=n(49),ie=n.n(oe),le=n(320),se=n(321),ue=(n(199),function(e){return r.a.createElement(le.a,null,r.a.createElement(se.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Image,{size:"tiny",src:e.article.urlToImage||"https://image.flaticon.com/icons/png/512/21/21601.png"}),r.a.createElement(se.a.Content,null,r.a.createElement(se.a.Header,{as:"a",href:e.article.url,target:"_blank"},e.article.title),r.a.createElement(se.a.Meta,null,e.article.publishedAt.substring(0,10)+" / "+e.article.publishedAt.substr(11,8)),r.a.createElement(se.a.Description,null,e.article.description),r.a.createElement(se.a.Extra,null,e.article.author)))))}),pe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).countryChange=function(e){n.props.setNews(e.target.value,n.props.currentPage)},n.setNewCurrentPage=function(e){n.props.setCurrentPage(n.props.country,e)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.newsTotalCount/this.props.pageSize),n=[],a=1;a<=t;a++)n.push(a);return r.a.createElement("div",{className:ie.a.News},r.a.createElement("select",{className:ie.a.Select,name:"countryNews",id:"",onChange:this.countryChange},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select country"),r.a.createElement("option",{value:"ru"},"Russia"),r.a.createElement("option",{value:"us"},"United State"),r.a.createElement("option",{value:"fr"},"France")),r.a.createElement("ul",{className:ie.a.newsCont},this.props.isFetch?r.a.createElement(K,null):this.props.newsArticles.map(function(t){return r.a.createElement("li",null,r.a.createElement(ue,{articleState:e.props.articleState,articleIsOpen:e.props.articleIsOpen,article:t}))})),r.a.createElement("div",{className:ie.a.pagination},r.a.createElement("ul",null,this.props.isFetch?null:n.map(function(t){return r.a.createElement("li",{onClick:function(){return e.setNewCurrentPage(t)},className:e.props.currentPage===t?ie.a.current:null},t)}))))}}]),t}(r.a.Component),he={articles:[],pageSize:5,totalNewsCount:null,currentPage:1,country:null,articleIsOpen:!1,isFetch:!1},fe=function(e,t){return{type:"SET_NEWS",news:e,country:t}},me=function(e){return{type:"SET_TOTAL_NEWS",total:e}},de=function(e){return{type:"IS_FETCH_NEWS",bool:e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(f.a)({},e,{articles:t.news,country:t.country,currentPage:1});case"SET_TOTAL_NEWS":return Object(f.a)({},e,{totalNewsCount:t.total});case"SET_CURRENT_PAGE":return Object(f.a)({},e,{currentPage:t.page});case"CHANGE_ARTICLE_OPEN":return Object(f.a)({},e,{articleIsOpen:t.bool});case"IS_FETCH_NEWS":return Object(f.a)({},e,{isFetch:t.bool});default:return e}},be=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(pe,this.props)}}]),t}(r.a.Component),we=Object(h.b)(function(e){return{newsArticles:e.news.articles,newsTotalCount:e.news.totalNewsCount,currentPage:e.news.currentPage,pageSize:e.news.pageSize,country:e.news.country,articleState:e.news.articleIsOpen,isFetch:e.news.isFetch}},{setNews:function(e,t){return function(n){n(de(!0)),g(e,t).then(function(t){n(me(t.totalResults)),n(de(!1)),n(fe(t.articles,e))})}},setCurrentPage:function(e,t){return function(n){y(e,t).then(function(a){n(me(a.totalResults)),n(fe(a.articles,e)),n(function(e){return{type:"SET_CURRENT_PAGE",page:e}}(t))})}},articleIsOpen:function(e){return{type:"CHANGE_ARTICLE_OPEN",bool:e}}})(be),_e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(x,null,r.a.createElement(H.c,null,r.a.createElement(H.a,{exact:!0,render:function(){return r.a.createElement(we,null)},path:"/news/:userId?"}),r.a.createElement(H.a,{exact:!0,render:function(){return r.a.createElement(ce,null)}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=n(40),ye=Object(ge.c)({weather:j,news:Ee,forecast:ae}),Oe=n(158),Ce=(n(314),Object(ge.d)(ye,Object(ge.a)(Oe.a)));window.store=Ce;var ve=r.a.createElement(k.a,null,r.a.createElement(h.a,{store:Ce},r.a.createElement(_e,null)));o.a.render(ve,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t,n){e.exports={News:"News_News__2YJP4",newsCont:"News_newsCont__3gLSH",Select:"News_Select__14CEu",pagination:"News_pagination__3WD9a",current:"News_current__364Os"}},57:function(e,t,n){e.exports={Weather:"Weather_Weather__I-7xc",form:"Weather_form__1TP6y",result_weather:"Weather_result_weather__S4RpR",curTemp:"Weather_curTemp__6klA7"}},94:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__27gs2",open:"MenuToggle_open__39e35"}},95:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__3dztO",close:"Drawer_close__18af3"}}},[[167,1,2]]]);
//# sourceMappingURL=main.b7b5d002.chunk.js.map